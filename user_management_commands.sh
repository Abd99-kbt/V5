#!/bin/bash

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘           LARAVEL USER MANAGEMENT COMMANDS                   â•‘"
echo "â•‘              Safe Password Reset & User Creation            â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

echo "ğŸ”§ COMMON USER MANAGEMENT TASKS:"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

echo "1ï¸âƒ£  RESET USER PASSWORD (Use this for admin access):"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "php artisan tinker"
echo "$user = App\\Models\\User::where('username', 'Ù…Ø¯ÙŠØ±_Ø´Ø§Ù…Ù„')->first();"
echo "\$user->update(['password' => Hash::make('your_new_password_here')]);"
echo "exit()"
echo ""

echo "2ï¸âƒ£  CREATE NEW ADMIN USER:"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "php artisan make:filament-user"
echo "# Follow the prompts to create a new user"
echo ""

echo "3ï¸âƒ£  CHECK USER EXISTS AND GET INFO:"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "php artisan tinker"
echo "\$user = App\\Models\\User::where('username', 'Ù…Ø¯ÙŠØ±_Ø´Ø§Ù…Ù„')->first();"
echo "dd(\$user);"
echo "exit()"
echo ""

echo "4ï¸âƒ£  ASSIGN ROLE TO USER:"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "php artisan tinker"
echo "\$user = App\\Models\\User::where('username', 'username_here')->first();"
echo "\$user->assignRole('role_name_here');"
echo "exit()"
echo ""

echo "5ï¸âƒ£  LIST ALL USERS WITH ROLES:"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "php artisan tinker"
echo "App\\Models\\User::with('roles')->get()->pluck('username', 'name', 'roles.name');"
echo "exit()"
echo ""

echo "6ï¸âƒ£  CREATE USER VIA LARAVEL FACTORY (PROGRAMMATIC):"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "php artisan tinker"
echo "use App\\Models\\User;"
echo "use Illuminate\\Support\\Facades\\Hash;"
echo ""
echo "// Create user"
echo "\$user = User::create(["
echo "    'name' => 'New User Name',"
echo "    'username' => 'new_user_username',"
echo "    'email' => 'user@example.com',"
echo "    'password' => Hash::make('password123'),"
echo "    'email_verified_at' => now()"
echo "]);"
echo ""
echo "// Assign role"
echo "\$user->assignRole('Ù…ÙˆØ¸Ù_Ù…Ø¨ÙŠØ¹Ø§Øª');"
echo "exit()"
echo ""

echo "7ï¸âƒ£  RESET ALL ADMIN PASSWORDS (EMERGENCY):"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "php artisan tinker"
echo "\$adminUsers = App\\Models\\User::role('Ù…Ø¯ÙŠØ±_Ø´Ø§Ù…Ù„')->get();"
echo "foreach(\$adminUsers as \$user) {"
echo "    \$user->update(['password' => Hash::make('admin123')]);"
echo "    echo 'Password reset for: ' . \$user->username . PHP_EOL;"
echo "}"
echo "exit()"
echo ""

echo "8ï¸âƒ£  CHECK FILAMENT AUTH CONFIG:"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "php artisan tinker"
echo "echo 'Filament Guard: ' . config('filament.auth.guard') . PHP_EOL;"
echo "echo 'Filament Model: ' . config('filament.auth.model') . PHP_EOL;"
echo "exit()"
echo ""

echo "âš ï¸  IMPORTANT SECURITY NOTES:"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "â€¢ ALWAYS change default passwords"
echo "â€¢ Use strong passwords (8+ chars, mixed case, numbers, symbols)"
echo "â€¢ Never commit passwords to version control"
echo "â€¢ Use environment variables for sensitive data"
echo "â€¢ Enable 2FA if available"
echo ""

echo "ğŸ›¡ï¸  PASSWORD STRENGTH REQUIREMENTS:"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "â€¢ Minimum 8 characters"
echo "â€¢ At least one uppercase letter"
echo "â€¢ At least one lowercase letter"
echo "â€¢ At least one number"
echo "â€¢ At least one special character (!@#$%^&*(),.?\":{}|<>)"
echo ""

echo "ğŸ“‹ QUICK COMMANDS CHEAT SHEET:"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "# Reset password for main admin:"
echo "php artisan tinker -c \"\\\$u = App\\\\Models\\\\User::where('username','Ù…Ø¯ÙŠØ±_Ø´Ø§Ù…Ù„')->first(); \\\$u->update(['password' => Hash::make('NewPassword123!')]);\""
echo ""
echo "# Create test user quickly:"
echo "php artisan tinker -c \"\\\$u = User::create(['name'=>'Test User','username'=>'testuser','email'=>'test@test.com','password'=>Hash::make('password123'),'email_verified_at'=>now()]);\\\$u->assignRole('Ù…ÙˆØ¸Ù_Ù…Ø¨ÙŠØ¹Ø§Øª');\""
echo ""

echo "âœ… READY TO USE - Copy and paste commands as needed!"